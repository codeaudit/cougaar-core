2002-04-26  Ray Tomlinson  <RTomlinson@bbn.com>

	* BasePersistence.java:
	Insure that the currentPersistPluginInfo is never null while
	persisting.

2002-04-23  Ray Tomlinson  <RTomlinson@bbn.com>

	* BasePersistence.java:
	Move the "finally" clause from rehydrateFromStream to the caller
	(rehydrateOneDelta) where access to the correct persistence plugin
	is possible.

2002-04-19  Ray Tomlinson  <RTomlinson@bbn.com>

	* PersistenceControlPlugin.java:
	Plugin to control persistence. Interrogates the persistence
	service for all controls and creates OperatingModes for those
	controls. Then monitors the OperatingModes and adjusts the
	controls accordingly.

	* PersistencePluginAdapter.java:
	Adapter for PersistencePlugin implementations defining default
	implementations of several methods that seldom need to be tailored
	by the plugin. This methods include the new methods for specifying
	media-specific controls.

	* PersistencePlugin.java:
	Add methods for media-specific controls (OperatingModes)

	* FilePersistence.java: 
	* DummyPersistence.java: 
	* DatabasePersistence.java:
	Used PersistencePluginAdapter for common functions.

2002-04-10  Ray Tomlinson  <RTomlinson@bbn.com>

	* SequenceNumbers.java: 
	* PersistencePlugin.java: 
	* PersistenceOutputStream.java: 
	* Persistence.java: 
	* FilePersistence.java: 
	* DummyPersistence.java: 
	* DatabasePersistence.java: 
	* BasePersistence.java:
	Changes to support persistence adaptivity.

2002-03-11  Ray Tomlinson  <RTomlinson@bbn.com>

	* PersistencePlugin.java:
	Add class javadoc.

2002-03-08  Ray Tomlinson  <RTomlinson@bbn.com>

	* SequenceNumbers.java:
	* PersistencePluginSupport.java:
	* PersistencePlugin.java: 
	* FilePersistence.java:
	* DummyPersistence.java: 
	* DatabasePersistence.java:
	* BasePersistence.java:
	Obtain media-specific services using PersistencePlugin
	implementations instead of sub-classing BasePersistence. Basic
	operation has not changed only refactored.
	Convert to using LoggingService instead of writing history and
	other files.

2002-01-24  Ray Tomlinson  <RTomlinson@bbn.com>

	* DatabasePersistence.java:
	Fix bug 1014
	The query to update the status of incremental deltas in the
	database was being overwritten with the query to update the status
	of full deltas so incremental deltas remained active forever and
	were never scavenged. Also the argument specifying if a delta were
	full or not was misspelled and so no delta was ever marked as
	"full". Consequently, all deltas were incremental and never
	scavenged.
	There was no provision to scavenge full deltas when archiving is
	disabled. This now fixed so the persistence database can be kept
	as trim as possible.

	* BasePersistence.java:
	Fix bug 1014
	Document clear property
	Add org.cougaar.core.cluster.persistence.archivingDisabled
	property to allow archiving to be disabled.
	Add org.cougaar.core.cluster.persistence.consolidationPeriod
	property to control how ofter full deltas are generated. Defaults
	to 10 which it is the prior hard-coded value

2001-11-16  Ray Tomlinson  <RTomlinson@bbn.com>

	* Persistence.java: 
	* FilePersistence.java: 
	* DummyPersistence.java:
	Add getDatabaseConnection and releaseDatabaseConnection to
	Persistence interface for use by Delta. This avoids casting the
	Persistence interface into a DatabasePersistence in order to
	access these methods. The methods throw
	UnsupportedOperationException in the non-database implementations
	of this interface.

2001-09-27  Ray Tomlinson  <RTomlinson@bbn.com>

	* PersistenceException.java (Repository):
	Add a little javadoc.

2001-08-31  Ray Tomlinson  <RTomlinson@bbn.com>

	* Persistence.java: 
	* FilePersistence.java: 
	* DummyPersistence.java: 
	* DatabasePersistence.java: 
	* BasePersistence.java:
	Add suffix argument to disableWrite and readSequenceNumbers
	methods to allow arbitrary archive to be specified from the
	command line. In the case of DatabasePersistence, the suffix is
	parsed into its numeric value and used to query for the correct
	archive delta.

2001-08-30  Ray Tomlinson  <RTomlinson@bbn.com>

	* Persistence.java: 
	* FilePersistence.java: 
	* DummyPersistence.java: 
	* DatabasePersistence.java: 
	* BasePersistence.java:
	Change interface to permit full versus incremental persistence.
	Retain full persistence deltas for archiving. Also make an extra
	copy of the sequence file for each full delta. This facilitates
	returning to archived data.

2001-08-24  Ray Tomlinson  <RTomlinson@bbn.com>

	* BasePersistence.java:
	Remove clusters List, it's not needed and it holds onto old
	clusters after they have been moved elsewhere.

2001-08-13  Ray Tomlinson  <rtomlinson@bbn.com>

	* RehydrationResult.java:
	Used to pass back the MessageManager after rehydration in addition
	to the old return result. The MessageManager is not managed by the
	persistence module any more. See BasePersistence.

	* PersistenceOutputStream.java:
	Add accessor to get the bytes of the output stream. Used to
	provide the object needed to implement getState().

	* PersistenceObject.java:
	A wrapper around a byte array of serialized persistence
	information. Used to implement the component getState methods.

	* PersistenceNotEnabledException.java:
	An exception to throw when an operation requires persistence to
	be enabled and it isn't.	

	* Persistence.java:
	Change interface to pass additional information in and out when
	performing persistence. See BasePersistence for details.

	* BasePersistence.java:
	Move management of MessageManager out of this class. It is now
	only a special object needing persistence (if present at all). Add
	rehydration from a PersistenceObject object containing a byte
	array of serialized persistence info. Intended for use with
	dynamic agents to rehydrate an agent at a new location. Also, on
	the other side, return said PersistenceObject when creating a
	persistence delta, if requested.

1999-07-13  Ray Tomlinson  <rtomlinson@bbn.com>

	* ChangeLog -- created

	* Persistence.java Persistence interface.

	* FilePersistence.java Implementation of Persistence using files.

	* IdentityTable.java Augmented Hashtable to maintain
	correspondence between persisted objects and indentifying
	integers.

	* NonPersistable.java Marker interface for objects that should not
	be persisted.

	* NotPersistableException.java Exception thrown by attempts to
	persist objects that can't be persisted.

	* PersistenceAssociation.java Associates a reference int and a
	persistable object.

	* PersistenceInputStream.java ObjectInputStream subclass to
	implement persistence.

	* PersistenceOutputStream.java ObjectOutputStream subclass to
	implement persistence.
	
	* PersistenceReference.java Replacement for previously persisted
	objects.

	* PersistenceSubscriberState.java Named container for the inbox	of
	a Subscriber.
